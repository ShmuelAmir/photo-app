(this["webpackJsonpphoto-app"]=this["webpackJsonpphoto-app"]||[]).push([[0],{157:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(32),s=a.n(r),i=a(25),l=a(49),o=a(209),j=a(14),u=a(226),b=a(227),h=a(228),d=a(224),O=a(210),p=a(225),f=a(11),g=a(221),x=a(107),m=a(219),v=a(217),k=a(223),y=a(216),C=a(199),S=function(e,t){localStorage.setItem(e,JSON.stringify(t))},w=function(e){return JSON.parse(localStorage.getItem(e))||[]},I=function(e,t){var a=w(e);-1===a.indexOf(t)&&(a.push(t),S(e,a))},F=function(e,t){var a=w(e);a.splice(a.indexOf(t),1),S(e,a)},M=a(1);var T=function(e){var t=e.checkFunction,a=e.initVal,c=Object(n.useState)(a),r=Object(f.a)(c,2),s=r[0],i=r[1],l=Object(n.useState)(null),o=Object(f.a)(l,2),j=o[0],u=o[1],b=w("tags");return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(g.a,{onClick:function(e){return u(e.currentTarget)},children:Object(M.jsx)(C.a,{})}),Object(M.jsx)(x.a,{anchorEl:j,open:Boolean(j),onClose:function(){return u(null)},children:Object(M.jsxs)(m.a,{value:s,onChange:function(e){t(e.target.value,s),i(e.target.value)},children:[b.map((function(e){return Object(M.jsx)(v.a,{children:Object(M.jsx)(k.a,{value:e,control:Object(M.jsx)(y.a,{}),label:e})},e)})),Object(M.jsx)(v.a,{children:Object(M.jsx)(k.a,{value:"all",control:Object(M.jsx)(y.a,{}),label:"all"})},"all")]})})]})},B=a(214);var E=function(){var e=Object(n.useState)(""),t=Object(f.a)(e,2),a=t[0],c=t[1];return Object(M.jsx)(B.a,{size:"small",color:"success",value:a,onChange:function(e){c(e.target.value)},onKeyPress:function(e){""!==a&&"Enter"===e.key&&(I("tags",a),c(""))},placeholder:"add tag..."})},Y=a(206);var R,D=function(){var e=Object(n.useState)(null),t=Object(f.a)(e,2),a=t[0],c=t[1],r=Object(j.f)(),s=function(){c(null)},i=function(e){s(),r("/date/".concat(e.target.innerText))};return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(g.a,{onClick:function(e){return c(e.currentTarget)},children:Object(M.jsx)(Y.a,{})}),Object(M.jsxs)(x.a,{anchorEl:a,open:Boolean(a),onClose:s,children:[Object(M.jsx)(v.a,{divider:!0,onClick:i,children:"day"}),Object(M.jsx)(v.a,{divider:!0,onClick:i,children:"month"}),Object(M.jsx)(v.a,{onClick:i,children:"year"})]})]})},P=a(207),U=a(208),z=a(3),A=a(29),H=a(15),J=a(88),N=a.n(J),V=a(104),G=a(65),L=a(105),q=a.n(L),K=[{link:"https://images.unsplash.com/photo-1551963831-b3b1ca40c98e",title:"Breakfast",date:"11/18/2021"},{link:"https://images.unsplash.com/photo-1551782450-a2132b4ba21d",title:"Burger",date:"11/18/2021"},{link:"https://images.unsplash.com/photo-1522770179533-24471fcdba45",title:"Camera",date:"11/18/2021"},{link:"https://images.unsplash.com/photo-1444418776041-9c7e33cc5a9c",title:"Coffee",date:"11/15/2021"},{link:"https://images.unsplash.com/photo-1533827432537-70133748f5c8",title:"Hats",date:"1/15/2021"},{link:"https://images.unsplash.com/photo-1558642452-9d2a7deb7f62",title:"Honey",date:"11/15/2021"},{link:"https://images.unsplash.com/photo-1516802273409-68526ee1bdd6",title:"Basketball",date:"10/1/2021"},{link:"https://images.unsplash.com/photo-1518756131217-31eb79b20e8f",title:"Fern",date:"5/1/2021"},{link:"https://images.unsplash.com/photo-1597645587822-e99fa5d45d25",title:"Mushrooms",date:"4/3/2020"},{link:"https://images.unsplash.com/photo-1567306301408-9b74779a11af",title:"Tomato basil",date:"4/4/2020"},{link:"https://images.unsplash.com/photo-1471357674240-e1a485acb3e1",title:"Sea star",date:"6/15/2020"},{link:"https://images.unsplash.com/photo-1589118949245-7d38baf380d6",title:"Bike",date:"6/13/2020"}],Z="https://www.googleapis.com/customsearch/v1?key=".concat("AIzaSyCtHHv1TEIlus2fYwOR_ZdB4P3y-MnEm4o","&cx=").concat("2baf5dc630067a92c&cx=2baf5dc630067a92c","&searchType=image&imgSize=medium&q="),_=function(){var e=29*Math.random(),t=11*Math.random(),a=21*Math.random()+2e3;return new Date(a,t,e).toString()},Q=Object(G.b)("image/fetchAsyncImages",function(){var e=Object(V.a)(N.a.mark((function e(t){var a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.a.get(Z+t);case 2:return a=e.sent,e.abrupt("return",a.data.items.map((function(e){return{title:e.title,link:e.link,date:_()}})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),W={images:Object(H.a)(K),lastResult:Object(H.a)(K),status:null},X=Object(G.c)({name:"image",initialState:W,reducers:{setImages:function(e,t){e.images=t.payload},setLastResult:function(e,t){e.lastResult=t.payload}},extraReducers:(R={},Object(z.a)(R,Q.pending,(function(e){return Object(A.a)(Object(A.a)({},e),{},{status:"loading"})})),Object(z.a)(R,Q.fulfilled,(function(e,t){return Object(A.a)(Object(A.a)({},e),{},{images:t.payload,lastResult:t.payload,status:null})})),Object(z.a)(R,Q.rejected,(function(e){return Object(A.a)(Object(A.a)({},e),{},{status:null})})),R)}),$=X.actions,ee=($.setInput,$.setImages),te=($.setLastResult,function(e){return e.image.status}),ae=function(e){return e.image.images},ne=function(e){return e.image.lastResult},ce=X.reducer;var re=function(){var e=Object(i.b)(),t=Object(n.useState)(!0),a=Object(f.a)(t,2),c=a[0],r=a[1],s=Object(i.c)(ne);return Object(M.jsx)(g.a,{onClick:function(){r(!c),e(ee(c?w("favorite"):s))},children:c?Object(M.jsx)(P.a,{}):Object(M.jsx)(U.a,{})})};var se=function(){var e=Object(i.b)(),t=Object(i.c)(ne);return Object(M.jsxs)(p.a,{variant:"contained",disableElevation:!0,children:[Object(M.jsx)(re,{}),Object(M.jsx)(D,{}),Object(M.jsx)(T,{checkFunction:function(a){e(ee("all"===a?t:w(a)))},initVal:"all"}),Object(M.jsx)(E,{})]})};var ie=function(){var e=Object(j.f)();return Object(M.jsx)(u.a,{sx:{flexGrow:1},children:Object(M.jsx)(b.a,{children:Object(M.jsxs)(h.a,{children:[Object(M.jsxs)(o.a,{direction:"row",alignItems:"center",spacing:2,sx:{flexGrow:1},onClick:function(){e("/")},children:[Object(M.jsx)(O.a,{sx:{cursor:"pointer"}}),Object(M.jsx)(d.a,{variant:"h6",sx:{cursor:"pointer"},children:"Photos"})]}),Object(M.jsx)(se,{})]})})})},le=a(222),oe=a(24),je=a(229),ue=a(230),be=a(211);var he=function(){var e=Object(i.b)(),t=Object(n.useState)(""),a=Object(f.a)(t,2),c=a[0],r=a[1],s=Object(i.c)(te);return Object(M.jsxs)(le.a,{onSubmit:function(t){t.preventDefault(),""!==c&&(e(Q(c)),r(""))},elevation:3,component:"form",sx:{p:"2px 4px",display:"flex",alignItems:"center",width:450,height:50},children:[Object(M.jsx)(oe.c,{value:c,onChange:function(e){r(e.target.value)},sx:{ml:1,flex:1},placeholder:"Search Images...",inputProps:{"aria-label":"Search Image"}}),Object(M.jsx)(je.a,{type:"submit",sx:{p:"10px"},"aria-label":"search",children:"loading"===s?Object(M.jsx)(ue.a,{size:24}):Object(M.jsx)(be.a,{})})]})},de=a(220),Oe=a(106),pe=a.n(Oe),fe=a(231),ge=a(232),xe=a(233),me=a(234),ve=a(213),ke=a(218),ye=a(212);var Ce=function(e){var t=e.image,a=w("favorite"),c=Boolean(a.find((function(e){return e.link===t.link}))),r=Object(n.useState)(c),s=Object(f.a)(r,2),i=s[0],l=s[1],o=w("tags"),j="all";for(var u in o)if(Boolean(w(u).find((function(e){return e.link===t.link})))){j=u;break}return Object(M.jsx)(de.a,{item:!0,xs:12,sm:6,md:4,lg:3,xl:2,children:Object(M.jsxs)(fe.a,{children:[Object(M.jsx)(ge.a,{title:t.title.lenght<25?t.title:t.title.slice(0,25)}),Object(M.jsx)(xe.a,{component:"img",height:"200",image:t.link,alt:t.title}),Object(M.jsxs)(me.a,{children:[Object(M.jsx)(ve.a,{title:"add to favorite",children:Object(M.jsx)(ke.a,{checked:i,onChange:function(e){l(e.target.checked),i?F("favorite",t):I("favorite",t)},icon:Object(M.jsx)(P.a,{}),checkedIcon:Object(M.jsx)(U.a,{})})}),Object(M.jsx)(pe.a,{label:Object(M.jsx)(ve.a,{title:"save photo",children:Object(M.jsx)(je.a,{children:Object(M.jsx)(ye.a,{})})}),filename:t.title+".png",exportFile:function(){return Promise.resolve((e=t.link,new Promise((function(t){fetch(e).then((function(e){return e.blob()})).then((function(e){t(e)})).catch((function(e){console.error(e)}))}))));var e}}),Object(M.jsx)(T,{checkFunction:function(e,a){"all"!==a&&F(a,t),"all"!==e&&I(e,t)},initVal:j})]})]})})};var Se=function(){var e=Object(i.c)(ae);return Object(M.jsx)(de.a,{container:!0,spacing:2,children:e.map((function(e){return Object(M.jsx)(Ce,{image:e},e.link)}))})};var we=function(){for(var e=Object(j.g)().dateMonthYear,t=Object(i.c)(ae).map((function(e){return Object(A.a)(Object(A.a)({},e),{},{date:new Date(e.date)})})).sort((function(e,t){return e.date-t.date})),a=new Date("1/1/1500"),n=[],c=[],r=0;r<t.length;r++){var s=t[r],l=s.date;switch(e){case"day":l.toDateString()!==a.toDateString()&&(0!==c.length&&n.push(c),c=[],n.push("".concat(l.getUTCDate(),"/").concat(l.getUTCMonth()+1,"/").concat(l.getUTCFullYear())),a=l);break;case"month":l.getMonth()===a.getMonth()&&l.getYear()===a.getYear()||(0!==c.length&&n.push(c),c=[],n.push("".concat(l.getUTCMonth()+1,"/").concat(l.getUTCFullYear())),a=l);break;case"year":l.getYear()!==a.getYear()&&(0!==c.length&&n.push(c),c=[],n.push("".concat(l.getUTCFullYear())),a=l)}c.push({link:s.link,title:s.title})}n.push(c);var o=0;return Object(M.jsx)(M.Fragment,{children:n.map((function(e){return"string"===typeof e?Object(M.jsx)("h2",{children:e},e):Object(M.jsx)(de.a,{container:!0,spacing:2,children:e.map((function(e){return Object(M.jsx)(Ce,{image:e},e.link)}))},o++)}))})};var Ie=function(){return Object(M.jsx)(o.a,{bgcolor:"#EAEEF3",spacing:2,alignItems:"center",mt:7,p:5,children:Object(M.jsxs)(j.c,{children:[Object(M.jsx)(j.a,{path:"/",element:Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(he,{}),Object(M.jsx)(Se,{})]})}),Object(M.jsx)(j.a,{path:"date/:dateMonthYear",element:Object(M.jsx)(we,{})})]})})};var Fe=function(){return Object(M.jsx)("div",{className:"App",children:Object(M.jsx)(o.a,{children:Object(M.jsxs)(l.a,{children:[Object(M.jsx)(ie,{}),Object(M.jsx)(Ie,{})]})})})},Me=Object(G.a)({reducer:{image:ce}});s.a.render(Object(M.jsx)(c.a.StrictMode,{children:Object(M.jsx)(i.a,{store:Me,children:Object(M.jsx)(Fe,{})})}),document.getElementById("root"))}},[[157,1,2]]]);
//# sourceMappingURL=main.0d1e0b4a.chunk.js.map